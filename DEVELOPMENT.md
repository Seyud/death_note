# 🚀 开发文档

## 📋 项目概述

🔧 本项目是一个基于《死亡笔记》动漫IP设计的Rust系统级工具，以死神琉克(Ryuk)和死亡笔记系统为核心概念，实现了用户身份识别和基于黑名单的决策系统。项目采用异步架构，专注于Android平台的数据提取和分析。

## 🏗️ 项目架构

### 🔑 核心概念

基于《死亡笔记》的核心设定：
- **死亡笔记** → 黑名单系统：记录应被审判的灵魂名单
- **死神之眼** → 识别系统：能够看透人类真名和剩余寿命的特殊视觉
- **琉克** → 制导系统：因厌倦死神界而将死亡笔记丢弃至人间的观察者

### 🎯 核心模块

1. **👁️ 死神之眼系统 (Shinigami Eye System)** - 并行身份识别模块
   - **📱 酷安死神之眼 (CoolapkShinigamiEye)** - 异步酷安用户识别
   - **✈️ Telegram死神之眼 (TelegramShinigamiEye)** - 异步Telegram用户识别
   - **💬 QQ死神之眼 (QQShinigamiEye)** - 异步QQ用户识别
   - **👁️‍🗨️ 死神之眼管理器 (ShinigamiEyeManager)** - 统一协调所有识别器

2. **📖 死亡笔记系统 (DeathNote)** - 黑名单管理和检查
   - **📝 黑名单管理** - 维护各平台的黑名单数据
   - **🔍 名单检查** - 验证识别结果是否在黑名单中

3. **😈 琉克制导系统 (RyukGuidanceSystem)** - 基于异步识别结果的智能决策系统
   - **🧠 琉克审判引擎** - 模拟琉克性格的智能决策
   - **🍎 厌倦机制** - 基于发现目标的动态反应系统
   - **⚰️ 灵魂收割** - 象征性的分区还原操作

## 🔄 程序运行顺序

### 🚀 异步执行流程

```
📓 死亡笔记系统启动 (异步)
    ↓
😈 Ryuk: 终于有点有趣的事情了...
    ↓
👁️‍🗨️ 激活死神之眼观察人类世界...
    ↓
🎯 死神之眼管理器启动 (并行执行)
    ├── 📱 酷安死神之眼 (异步)
    │   └── 🔍 扫描酷安应用数据，获取用户UID
    ├── ✈️ Telegram死神之眼 (异步)
    │   └── 🔍 扫描Telegram应用数据，获取所有用户UID
    ├── 💬 QQ死神之眼 (异步)
    │   └── 🔍 扫描QQ应用数据，提取QQ号
    └── ... 🔧 更多死神之眼 (可扩展)
    ↓
👁️‍🗨️ 显示死神之眼观察结果
    ↓
⚰️ 琉克开始翻阅死亡笔记进行审判...
    ↓
😈 Ryuk: *无聊地翻着死亡笔记*...
    ↓
🔍 检查死亡笔记上的名字
    ├── 📱 检查酷安UID是否在黑名单
    ├── ✈️ 检查Telegram UID是否在黑名单
    ├── 💬 检查QQ号是否在黑名单
    └── 🔧 检查其他识别器结果
    ↓
🧠 琉克审判决策
    ├── 🚨 发现黑名单ID → ⚡ 执行灵魂收割
    └── ✅ 无黑名单ID → ⏭️ 跳过审判
    ↓
🎯 执行审判 (异步)
    ├── ⚰️ 异步收割boot分区灵魂
    └── ⚰️ 异步收割init_boot分区灵魂
    ↓
📓 死亡笔记系统运行结束
👁️‍🗨️ 死神之眼已关闭
```

### 🌟 异步并行优势

- **⚡ 并行识别**: 所有死神之眼同时执行，大幅缩短识别时间
- **⏰ 超时控制**: 单个识别器超时不会影响其他识别器
- **🔧 动态扩展**: 轻松添加新的平台识别器
- **💪 资源优化**: 充分利用多核CPU性能
- **🛡️ 容错机制**: 单个识别器失败不会影响整体系统
- **🍎 琉克特色**: 基于发现结果的动态反应系统

### ⚙️ 琉克特色机制

- **🍎 苹果系统**: 琉克在发现有趣事情时会吃苹果，降低厌倦值
- **😴 厌倦机制**: 初始厌倦值较高，符合琉克性格
- **😈 审判语气**: 模拟琉克语气的交互反馈
- **⚰️ 灵魂收割**: 将分区还原操作拟人化为灵魂收割

## 🎭 设计理念

本项目采用拟人化的设计理念，将技术系统包装成动漫角色，使得：
- **用户体验**: 更具趣味性和故事性
- **系统理解**: 通过动漫设定降低理解门槛
- **扩展性**: 新功能可以轻松对应新的死神角色
- **维护性**: 清晰的模块划分和职责分离